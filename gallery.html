<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Gallery</title>
    <link rel="stylesheet" href="css/gallery.css" />
    <link rel="stylesheet" href="css/custom.css" />
  </head>
  <body>
    <header>
      <nav>
        <ul>
          <li><a href="index.html">Main</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <h1>Gallery</h1>
      <ul class="gallery">
        <template>
          <li class="">
            <a href="">
              <span class="card">
                <h4></h4>
                <p>This is a card</p>
              </span>
              <img width="96" src="" alt="Lorem Picsum" />
            </a>
          </li>
        </template>
        <li class="w3h2">
          <a href="https://picsum.photos/200/300">
            <span class="card"
              ><h4>Picture of the day</h4>
              <p>This is a card</p></span
            >
            <img
              width="96"
              src="https://picsum.photos/1280/720"
              alt="Lorem Picsum"
            />
          </a>
        </li>
        <li class="">
          <div class="card">This is a card</div>
          <img
            width="96"
            src="https://images.unsplash.com/photo-1569404874008-8e7a6669f594?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjE0NTg5fQ"
            alt=""
          />
        </li>
      </ul>
    </main>
    <script>
      window.onload = document.documentElement.setAttribute(
        "data-theme",
        localStorage.getItem("theme")
      );

      var gallery = document.getElementsByClassName("gallery")[0];
      var template = document.getElementsByTagName("template")[0];

      function randomClass() {
        return "w" + rng(1, 3) + "h" + rng(1, 3);
      }
      function randomPicsum() {
        const picsum = "https://picsum.photos/";
        var min = 360;
        var max = 480;
        var w = rng(min, max);
        var h = rng(min, max);
        return picsum + w + "/" + h;
      }

      function rng(minSize, maxSize) {
        return Math.round(Math.random() * (maxSize - minSize)) + minSize;
      }

      console.log(randomPicsum());

      for (var i = 0; i < 30; i++) {
        var temp = template.content.cloneNode(true);
        var pic = randomPicsum();

        gallery.prepend(temp);
        gallery.querySelector("img").setAttribute("src", pic);
        gallery.querySelector("a").setAttribute("href", pic);
        gallery.querySelector("li").setAttribute("class", randomClass());
        gallery.querySelector("h4").innerHTML = "Picture " + i;
        console.log(gallery.querySelector("h4"));
      }
    </script>
  </body>
</html>
